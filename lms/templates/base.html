<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Learning Management System{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">LMS</div>
      <nav class="sidenav">
        <!-- 대시보드: '정확히 /'일 때만 활성화 -->
        <a class="nav-item {{ 'active' if active_exact('/') else '' }}" href="{{ url_for('dashboard') }}">
          <span class="icon">🏠</span><span>대시보드</span>
        </a>

        <!-- 강좌: /courses 또는 /course/<id> 일 때 활성화 -->
        <a class="nav-item {{ 'active' if active_prefix('/courses') or active_prefix('/course/') else '' }}" href="{{ url_for('courses') }}">
          <span class="icon">📚</span><span>강좌</span>
        </a>

        <a class="nav-item {{ 'active' if active_exact('/mentoring') }}" href="/mentoring">
            <span class="icon">🧑‍🏫</span><span>멘토링</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/users') else '' }}" href="{{ url_for('users_page') }}">
          <span class="icon">👥</span><span>사용자 관리</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/analytics') else '' }}" href="{{ url_for('analytics_page') }}">
          <span class="icon">📊</span><span>분석 및 리포트</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/messages') else '' }}" href="{{ url_for('messages_page') }}">
          <span class="icon">💬</span><span>메시지</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/schedule') else '' }}" href="{{ url_for('schedule_page') }}">
          <span class="icon">📅</span><span>일정</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/assignments_page') else '' }}" href="{{ url_for('assignments_page') }}">
          <span class="icon">📝</span><span>과제</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/grades') else '' }}" href="{{ url_for('grades_page') }}">
          <span class="icon">🏅</span><span>성적</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/profile') else '' }}" href="{{ url_for('profile_page') }}">
          <span class="icon">👤</span><span>프로필</span>
        </a>

        <a class="nav-item {{ 'active' if active_prefix('/settings') else '' }}" href="{{ url_for('settings_page') }}">
          <span class="icon">⚙️</span><span>설정</span>
        </a>
      </nav>
    </aside>

    <main class="main">
      <header class="topbar">
        <input class="search" placeholder="강좌, 사용자, 콘텐츠 검색…" />
        <div class="user">영이 ▾</div>
      </header>

      {% block content %}{% endblock %}
    </main>
  </div>
</body>
</html>